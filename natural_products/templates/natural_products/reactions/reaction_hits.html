<!doctype html>
<html lang="en">

  {% include 'header.html' %}
  {% load static %}

  {% if show_images %}
  <body class="right" onload="makeDataTable(['resultsTable'], [7, ])">
  {% else %}
  <body class="right" onload="makeDataTable(['resultsTable'], [6, ])">
  {% endif %}

    {% include 'navbar.html' %}

    {% include 'hit_navbar.html' %}

    <header>
      <h1>Hits for Reaction(s): {{reactions}}</h1>
      <p>Using threshold: {{threshold}}</p> 
      <p>Number of hits: {{num_hits}}</p> 
    </header>

    <main>

      <div class="table-responsive hiddenDiv">
        <table id=resultsTable class="display table data"
          style="width:100%;text-align:center;display:inline;">
          <thead>
            <tr>
              {% if show_images %}
              <th colspan="4"  class="bd-left bd-right">Molecule</th>
              {% else %}
              <th colspan="3"  class="bd-left bd-right">Molecule</th>
              {% endif %}
              {% for reaction in reactions %}
              <th colspan="6" class="bd-right">{{reaction}}</th>
              {% endfor %}
            </tr>
            <tr>
              {% if show_images %}
              <th class="bd-left">Image</th>
              {% endif %}
              <th class="bd-left">ID</th>
              <th>Compound Name</th>
              <th class="bd-right">Molecular Formula</th>
              <!-- <th>SMILES</th> -->
              {% for reaction in reactions %}
              <!-- <th>Target(s)</th> -->
              <!-- <th>Number Targets</th> -->
              <th>Uniprot ACC(s)</th>
              <th>Number Uniprot ACCs</th>
              <th>Total Uniprot ACCs</th>
              <th>Uniprot Coverage</th>
              <th>Reaction Name</th>
              <th class="bd-right">Organism</th>
              {% endfor %}
            </tr>
          </thead>
          <tbody>
            {% for hit in reaction_hits %}
            <tr>
              {% if show_images %}
              <td class="bd-left"> 
                <img src="{% static hit.image %}" alt=""
                style="width: 100pt; height: 100pt;"></img> 
              </td>
              {% endif %}
              <td class="bd-left"> <a href="/natural_products/compounds/all/{{hit.id}}"> {{ hit.id }} </a> </td>
              <td> {{ hit.name }} </td>
              <td class="bd-right"> {{ hit.formula }} </td>
              <!-- <td> {{ hit.smiles }} </td> -->
              {% for reaction in hit.reactions %}
              <!-- <td> {{ reaction.targets }} </td> -->
              <!-- <td> {{ reaction.num_targets }} </td> -->
              <td> {{ reaction.accs }} </td>
              <td> {{ reaction.num_accs }} </td>
              <td> {{ reaction.total_accs }} </td>
              <td> {{ reaction.coverage }} </td>
              <td> <a href="{{reaction.url}}"> {{ reaction.reaction_name }} </a> </td>
              <td class="bd-right"> {{ reaction.organism }} </td>
              {% endfor %}
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

    </main>

    <footer>
      <form action="/natural_products/reactions/screening/select/">
        <input type="submit" value="Back to reaction selection">
      </form>
    </footer>
  </body>
</html>
